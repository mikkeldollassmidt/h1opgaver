<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üñ•Ô∏è</title>
    <link rel="stylesheet" href="css/logs.css">

</head>
<body>
    <header>
        <!-- Clock in header section -->
        <a href="index.html" tabindex="1">

            <div class="header-clock">
                <div class="clocktime">
                    <span id="hours">00</span>
                    <span>:</span>
                    <span id="mins">00</span>
                    <span>:</span>
                    <span id="secs">00</span>
                </div>
                <img id="header-button-picture" src="images\clock.png" />
                <script>
                    let hours = document.getElementById("hours");
                    let mins = document.getElementById("mins");
                    let secs = document.getElementById("secs");

                    setInterval(() => {
                        let currentTime = new Date();

                        hours.innerHTML = (currentTime.getHours() < 10 ? "0" : "") + currentTime.getHours();
                        mins.innerHTML = (currentTime.getMinutes() < 10 ? "0" : "") + currentTime.getMinutes();
                        secs.innerHTML = (currentTime.getSeconds() < 10 ? "0" : "") + currentTime.getSeconds();
                    }, 1000)

                </script>
            </div>
        </a>

    </header>

    <div class="latestdatelogs-container">
        <div>
            <h1 class="title">Latest Log<iframe id="outputLatestDateLogsFile" src="C:\Users\zbc23mods\Desktop\ArduinoProject1\ArduinoOutput\outputLatestDate.txt"></iframe></h1>

            <script>
                // Function to reload log-container
                function reloadLogContainer({) 
                    var iframe = document.getElementById("outputLatestDateLogsFile");
                    iframe.src = iframe.src; // Setting iframe.src to be the new updated iframe.src.
                }

                // Set the timer to reload the iframe every 5 seconds (5000 milliseconds)
                setInterval(reloadLogContainer, 5000);
            </script>
        </div>
    </div>

    <div class="informationHeader">
        <div class="informationBox">
            <div class="informationBoxTitle">Humidity</div>
            <div class="informationBoxSubtitle">38%</div>
            <img id="information-header-picture" src="images\humidity.png" />
        </div>
        <div class="informationBox2">
            <div class="informationBoxTitle">Energy Prices</div>
            <div class="informationBoxSubtitle">$0,41 kWh</div>
            <img id="information-header-picture" src="images\clock.png" />
        </div>
        <div class="informationBox3">
            <div class="informationBoxTitle">Shelves In Use</div>
            <div class="informationBoxSubtitle">6/14</div>
            <img id="information-header-picture" src="images\clock.png" />
        </div>
    </div>

    <div class="graphContainers">
        <div class="graphContent">
            <h1 class="contentTitle">Fridge Contents</h1>
            <div class="circleContainer" style="--i: 73%; --clr: #ccc6ed;">
                <div class="circle">
                    <h2>73<small>%</small></h2>
                </div>
                <h3>Left-overs</h3>
            </div>
            <div class="circleContainer" style="--i: 27%; --clr: #b5addd;">
                <div class="circle">
                    <h2>27<small>%</small></h2>
                </div>
                <h3>Fruit</h3>
            </div>
        </div>

        <div class="graphHumidity">
            <div id="wrapper">
                <div id="chart-area">

                </div>
                <div id="chart-bar">

                </div>
            </div>
            <script src='https://cdn.jsdelivr.net/npm/apexcharts'></script>
            <script src="js/linechart.js"></script>
        </div>
    </div>



    <div class="fridge-temperature-container">
        <div>
            <h1 class="title">Fridge Temperature</h1>
            <h2 class="temperature">5¬∞</h2>
            <div class="connected-fridge">
                <h1 class="connected-text">Connected</h1>
                <h2 class="fridge-name">LG GSXV91MCAF</h2>
            </div>
        </div>
    </div>



    <div class="alllogs-container">
        <div>
            <h1 class="title">All Logs</h1>
            <h2 class="subtext">(Newest first)</h2>
            <iframe id="outputLogFile" src="C:\Users\zbc23mods\Desktop\ArduinoProject1\ArduinoOutput\outputAllLogs.txt"></iframe>

            <script>
                // Function to reload log-container
                function reloadLogContainer() {
                    var iframe = document.getElementById("outputLogFile");
                    iframe.src = iframe.src; // Setting iframe.src to be the new updated iframe.src.
                }

                // Set the timer to reload the iframe every 5 seconds (5000 milliseconds)
                setInterval(reloadLogContainer, 5000);
            </script>
        </div>
    </div>  
</body>

</html>
